#!/usr/bin/env php
<?php

if (getenv('UNIFY_COVERAGE')) {
    xdebug_start_code_coverage(XDEBUG_CC_UNUSED | XDEBUG_CC_DEAD_CODE);
}

use Symfony\Component\Console\Application;
use JDWil\Unify\Command\RunCommand;
use JDWil\Unify\DependencyInjection\ContainerFactory;

if (is_file($autoload = getcwd() . '/vendor/autoload.php')) {
    require $autoload;
}
$container = ContainerFactory::buildContainer();

$application = new Application();

$runCommand = new RunCommand();
$runCommand->setContainer($container);
$application->add($runCommand);

$application->run();
